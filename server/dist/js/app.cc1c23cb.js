(function(){"use strict";var e={4447:function(e,t,a){var s=a(5130),o=a(6768);function n(e,t,a,s,n,l){const r=(0,o.g2)("notifications"),i=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(r,{position:"top center"}),(0,o.bF)(i)])}a(323);var l={name:"App"},r=a(1241);const i=(0,r.A)(l,[["render",n]]);var c=i,d=a(7278),m=a(1387);const u={class:"container-fluid text-end px-5 pb-5"},h={class:"row mb-4"},p={class:"col-sm-2"},b=(0,o.Lk)("div",{class:"col-sm-8"},null,-1),f={class:"col-sm-2"},k=(0,o.Lk)("div",{class:"col-sm-12 mt-5 pt-3"},null,-1),L=(0,o.Lk)("div",{class:"col-sm-2"},[(0,o.Lk)("h1",{class:""},"الممثلين")],-1),g=(0,o.Lk)("div",{class:"col-sm-8"},null,-1),y={class:"col-sm-2"},v={class:"row pb-5"};function x(e,t,a,s,n,l){const r=(0,o.g2)("SearchForm"),i=(0,o.g2)("UserToggle"),c=(0,o.g2)("NewModal"),d=(0,o.g2)("UsersTable");return(0,o.uX)(),(0,o.CE)("div",u,[(0,o.Lk)("div",h,[(0,o.Lk)("div",p,[(0,o.bF)(r,{searchText:n.searchText,"onUpdate:searchText":t[0]||(t[0]=e=>n.searchText=e)},null,8,["searchText"])]),b,(0,o.Lk)("div",f,[(0,o.bF)(i)]),k,L,g,(0,o.Lk)("div",y,[(0,o.Lk)("button",{class:"btn btn-warning",href:"#",onClick:t[1]||(t[1]=(...e)=>l.handleButtonClick&&l.handleButtonClick(...e)),id:"exampleModalBtn"},"جديد"),(0,o.Lk)("button",{class:"btn btn-warning d-none",href:"#",onClick:t[2]||(t[2]=(...e)=>l.handleButtonClick2&&l.handleButtonClick2(...e)),id:"exampleModalBtn2"},"جديد")])]),(0,o.Lk)("div",v,[(0,o.bF)(c,{current_data:n.current_data,onReload:l.reloadData},null,8,["current_data","onReload"]),(0,o.bF)(d,{onSend_current_data:l.send_current_data,searchText:n.searchText,ref:"UsersTableRef"},null,8,["onSend_current_data","searchText"])])])}const w={class:"input-group",id:"search"},D=(0,o.Lk)("span",{class:"btn btn-outline-secondary",style:{"padding-top":"10px !important"}},[(0,o.Lk)("i",{class:"fa-solid fa-magnifying-glass"})],-1);function C(e,t,a,n,l,r){return(0,o.uX)(),(0,o.CE)("div",w,[D,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",placeholder:"بحث","onUpdate:modelValue":t[0]||(t[0]=e=>l.localSearchText=e),onInput:t[1]||(t[1]=(...e)=>r.updateSearchText&&r.updateSearchText(...e))},null,544),[[s.Jo,l.localSearchText]])])}var S={name:"SearchForm",props:["searchText"],data(){return{localSearchText:this.searchText}},methods:{updateSearchText(){this.$emit("update:searchText",this.localSearchText)}},watch:{searchText(e){this.localSearchText=e}}};const _=(0,r.A)(S,[["render",C]]);var A=_,M=a(4232);const U={id:"user-dropdwon",class:"position-relative"},E=(0,o.Lk)("img",{src:"https://ps.w.org/user-avatar-reloaded/assets/icon-256x256.png?rev=2540745",alt:""},null,-1),T=(0,o.Lk)("strong",null,"عبد العزيز",-1),$=[E,T];function q(e,t,a,n,l,r){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",U,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.toggleShow&&r.toggleShow(...e)),class:(0,M.C4)(["btn text-start ",{show:l.active}])},$,2),(0,o.Lk)("ul",{class:(0,M.C4)(["dropdown-menu ",{show:l.active}])},[(0,o.Lk)("li",null,[(0,o.Lk)("a",{class:"dropdown-item",href:"#",onClick:t[1]||(t[1]=(0,s.D$)(((...e)=>r.handleClick&&r.handleClick(...e)),["prevent"]))},"تسجيل الخروج")])],2)])])}var N={name:"UserToggle",data(){return{active:!1}},methods:{toggleShow(){this.active=!this.active},handleClick(){localStorage.removeItem("isAuthenticated"),"undefined"!==typeof window&&window.location.reload()}}};const B=(0,r.A)(N,[["render",q]]);var F=B;const I=e=>((0,o.Qi)("data-v-44371694"),e=e(),(0,o.jt)(),e),V={class:"modal fade",id:"NotesModal",ref:"notesModal",tabindex:"-1","aria-hidden":"true"},R={class:"modal-dialog modal-lg"},W=I((()=>(0,o.Lk)("div",{class:"modal-header"},[(0,o.Lk)("h5",{class:"modal-title",id:"exampleModalLabel"},"تحديث الملاحظات"),(0,o.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),O={class:"modal-body"},X={class:"row"},j={class:"col-sm-12"},H={class:"mb-3"},J=I((()=>(0,o.Lk)("label",{class:"form-label"},"ملاحظات",-1))),P=I((()=>(0,o.Lk)("div",{class:"modal-footer"},[(0,o.Lk)("button",{type:"button",class:"closeModalbtnNotes btn btn-secondary","data-bs-dismiss":"modal"},"تراجع"),(0,o.Lk)("button",{type:"submit",class:"saveUserbtnNotes btn btn-primary"},"حفظ الآن")],-1))),Q={class:"modal fade",id:"actionsModal",ref:"actionsModal",tabindex:"-1","aria-hidden":"true"},z={class:"modal-dialog modal-sm"},G=I((()=>(0,o.Lk)("div",{class:"modal-header"},[(0,o.Lk)("h5",{class:"modal-title",id:"exampleModalLabel"},"الإجراءات"),(0,o.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),K={class:"modal-body"},Y={class:"row"},Z={class:"col-sm-12"},ee={class:"mb-3"},te={class:"custom-checkbox"},ae=I((()=>(0,o.Lk)("span",{class:"checkmark"},null,-1))),se=I((()=>(0,o.Lk)("span",{class:"checkbox_label"},"تم التعامل سابقا",-1))),oe={class:"custom-checkbox"},ne=I((()=>(0,o.Lk)("span",{class:"checkmark"},null,-1))),le=I((()=>(0,o.Lk)("span",{class:"checkbox_label"},"لم يتم التعامل",-1))),re={class:"custom-checkbox"},ie=I((()=>(0,o.Lk)("span",{class:"checkmark"},null,-1))),ce=I((()=>(0,o.Lk)("span",{class:"checkbox_label"},"ممتاز",-1))),de={class:"custom-checkbox"},me=I((()=>(0,o.Lk)("span",{class:"checkmark"},null,-1))),ue=I((()=>(0,o.Lk)("span",{class:"checkbox_label"},"غير ممتاز",-1))),he={class:"modal-footer modal-footer-actions"},pe=I((()=>(0,o.Lk)("button",{type:"submit",class:"saveUserbtnActions btn btn-primary float-end"},"حفظ",-1))),be=I((()=>(0,o.Lk)("button",{type:"button",class:"closeModalbtnActions btn btn-secondary float-end","data-bs-dismiss":"modal"},"تراجع",-1))),fe={class:"modal fade",id:"attachementsModal",ref:"attachementsModal",tabindex:"-1","aria-hidden":"true"},ke={class:"modal-dialog modal-lg"},Le=I((()=>(0,o.Lk)("div",{class:"modal-header"},[(0,o.Lk)("h5",{class:"modal-title",id:"exampleModalLabel"},"تحديث الأعمال"),(0,o.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),ge={class:"modal-body"},ye={class:"row"},ve={class:"col-sm-12"},xe={class:"mb-3"},we=I((()=>(0,o.Lk)("label",{for:"attachment_name",class:"form-label"},"إسم العمل",-1))),De={class:"mb-3"},Ce=I((()=>(0,o.Lk)("label",{for:"attachment_files",class:"form-label"},"المرفقات",-1))),Se=["href"],_e={key:0},Ae=["src"],Me={key:1},Ue=I((()=>(0,o.Lk)("i",{class:"fas fa-file-pdf text-danger"},null,-1))),Ee=[Ue],Te={key:2},$e=I((()=>(0,o.Lk)("i",{class:"fas fa-file-word text-primary"},null,-1))),qe=[$e],Ne={key:3},Be=I((()=>(0,o.Lk)("i",{class:"fas fa-video text-success"},null,-1))),Fe=[Be],Ie=I((()=>(0,o.Lk)("div",{class:"modal-footer"},[(0,o.Lk)("button",{type:"button",class:"closeModalbtnAttachements btn btn-secondary","data-bs-dismiss":"modal"},"تراجع"),(0,o.Lk)("button",{type:"submit",class:"saveUserbtnAttachements btn btn-primary"},"حفظ الآن")],-1)));function Ve(e,t,a,n,l,r){const i=(0,o.g2)("ag-grid-vue"),c=(0,o.g2)("NewModal");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(i,{columnDefs:l.columnDefs,rowData:r.filteredDatas,defaultColDef:l.defaultColDef,quickFilterText:a.searchText,domLayout:"autoHeight",gridAutoHeight:!0,class:"ag-theme-quartz custom-ag-grid",enableRtl:!0,rowHeight:60,pagination:!0,getRowStyle:r.getRowStyle,onModelUpdated:r.onModelUpdated},null,8,["columnDefs","rowData","defaultColDef","quickFilterText","getRowStyle","onModelUpdated"]),(0,o.Lk)("div",V,[(0,o.Lk)("div",R,[(0,o.Lk)("form",{class:"modal-content",onSubmit:t[1]||(t[1]=(0,s.D$)(((...e)=>r.handleSubmitNotes&&r.handleSubmitNotes(...e)),["prevent"]))},[W,(0,o.Lk)("div",O,[(0,o.Lk)("div",X,[(0,o.Lk)("div",j,[(0,o.Lk)("div",H,[J,(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.current_notes=e),class:"form-control",rows:"5"},null,512),[[s.Jo,l.current_notes]])])])])]),P],32)])],512),(0,o.Lk)("div",Q,[(0,o.Lk)("div",z,[(0,o.Lk)("form",{class:"modal-content",onSubmit:t[8]||(t[8]=(0,s.D$)(((...e)=>r.handleSubmitActions&&r.handleSubmitActions(...e)),["prevent"]))},[G,(0,o.Lk)("div",K,[(0,o.Lk)("div",Y,[(0,o.Lk)("div",Z,[(0,o.Lk)("div",ee,[(0,o.Lk)("label",te,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=e=>l.isChecked1=e)},null,512),[[s.lH,l.isChecked1]]),ae,se]),(0,o.Lk)("label",oe,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=e=>l.isChecked2=e)},null,512),[[s.lH,l.isChecked2]]),ne,le]),(0,o.Lk)("label",re,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=e=>l.isChecked3=e)},null,512),[[s.lH,l.isChecked3]]),ie,ce]),(0,o.Lk)("label",de,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=e=>l.isChecked4=e)},null,512),[[s.lH,l.isChecked4]]),me,ue])])])])]),(0,o.Lk)("div",he,[(0,o.Lk)("button",{type:"button",onClick:t[6]||(t[6]=(0,s.D$)(((...e)=>r.deleteUser&&r.deleteUser(...e)),["prevent"])),class:"deleteModalbtnActions btn btn-danger float-start"},"حذف"),(0,o.Lk)("button",{type:"button",onClick:t[7]||(t[7]=(0,s.D$)(((...e)=>r.editUser&&r.editUser(...e)),["prevent"])),class:"editModalbtnActions btn btn-success float-start"},"تعديل"),pe,be])],32)])],512),(0,o.Lk)("div",fe,[(0,o.Lk)("div",ke,[(0,o.Lk)("form",{class:"modal-content",id:"exampleModalLabelFormAtt",onSubmit:t[11]||(t[11]=(0,s.D$)(((...e)=>r.handleSubmitAttachements&&r.handleSubmitAttachements(...e)),["prevent"]))},[Le,(0,o.Lk)("div",ge,[(0,o.Lk)("div",ye,[(0,o.Lk)("div",ve,[(0,o.Lk)("div",xe,[we,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control mb-3","onUpdate:modelValue":t[9]||(t[9]=e=>l.attachements_name=e),required:"",placeholder:"إسم العمل",id:"attachment_name"},null,512),[[s.Jo,l.attachements_name]])]),(0,o.Lk)("div",De,[Ce,(0,o.Lk)("input",{type:"file",onChange:t[10]||(t[10]=(...e)=>r.handleFiles&&r.handleFiles(...e)),multiple:"",required:"",id:"attachment_files",accept:"image/*,.pdf,.txt,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,video/*",class:"form-control"},null,32)])]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.current_attachements,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{class:"col-sm-6",key:t},[(0,o.Lk)("a",{href:e.split(";")[0],target:"_blank",class:"an-attachement"},[(0,o.Lk)("strong",null,(0,M.v_)(e.split(";")[1]),1),r.isImageUrl(e.split(";")[0])?((0,o.uX)(),(0,o.CE)("div",_e,[(0,o.Lk)("img",{src:e.split(";")[0],alt:""},null,8,Ae)])):(0,o.Q3)("",!0),r.isPdfUrl(e.split(";")[0])?((0,o.uX)(),(0,o.CE)("div",Me,Ee)):(0,o.Q3)("",!0),r.isWordOrTxtUrl(e.split(";")[0])?((0,o.uX)(),(0,o.CE)("div",Te,qe)):(0,o.Q3)("",!0),r.isVideoUrl(e.split(";")[0])?((0,o.uX)(),(0,o.CE)("div",Ne,Fe)):(0,o.Q3)("",!0)],8,Se)])))),128))])]),Ie],32)])],512),(0,o.bF)(c,{data:l.current_data,onReload:r.reloadData},null,8,["data","onReload"])])}a(4114);var Re=a(3505),We=a(8355);const Oe="https://new-app-content-dcc934885c58.herokuapp.com";var Xe=a(9953),je=a.n(Xe);const He={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Je={class:"modal-dialog modal-lg"},Pe={class:"modal-header"},Qe={key:0,class:"modal-title",id:"exampleModalLabel"},ze={key:1,class:"modal-title",id:"exampleModalLabel"},Ge=(0,o.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Ke={class:"modal-body"},Ye={class:"row"},Ze={class:"col-sm-6"},et={class:"mb-3"},tt=(0,o.Lk)("label",{class:"form-label"},"الصورة",-1),at={class:"col-sm-6"},st={class:"mb-3"},ot=(0,o.Lk)("label",{class:"form-label"},[(0,o.eW)("الإسم "),(0,o.Lk)("span",{class:"text-danger"},"*")],-1),nt={class:"col-sm-6"},lt={class:"mb-3"},rt=(0,o.Lk)("label",{class:"form-label"},[(0,o.eW)("الجنس "),(0,o.Lk)("span",{class:"text-danger"},"*")],-1),it=(0,o.Lk)("option",{value:"male"},"ذكر",-1),ct=(0,o.Lk)("option",{value:"female"},"أنثى",-1),dt=[it,ct],mt={class:"col-sm-6"},ut={class:"mb-3"},ht=(0,o.Lk)("label",{class:"form-label"},[(0,o.eW)("الجنسية "),(0,o.Lk)("span",{class:"text-danger"},"*")],-1),pt={class:"col-sm-6 mb-3"},bt=(0,o.Lk)("label",{class:"form-label"},[(0,o.eW)("المدينة "),(0,o.Lk)("span",{class:"text-danger"},"*")],-1),ft={class:"input-group"},kt=(0,o.Lk)("span",{class:"input-group-text"},[(0,o.Lk)("i",{class:"fas fa-globe"})],-1),Lt={class:"col-sm-6"},gt={class:"mb-3"},yt=(0,o.Lk)("label",{class:"form-label"},[(0,o.eW)("العمر "),(0,o.Lk)("span",{class:"text-danger"},"*")],-1),vt={class:"col-sm-6"},xt=(0,o.Lk)("label",{class:"form-label"},[(0,o.eW)("التكلفة "),(0,o.Lk)("span",{class:"text-danger"},"*")],-1),wt={class:"input-group"},Dt=(0,o.Lk)("span",{class:"input-group-text"},[(0,o.Lk)("i",{class:"fas fa-dollar-sign"})],-1),Ct={class:"col-sm-6 mb-3"},St=(0,o.Lk)("label",{class:"form-label"},[(0,o.eW)("الجوال "),(0,o.Lk)("span",{class:"text-danger"},"*")],-1),_t={class:"input-group"},At=(0,o.Lk)("span",{class:"input-group-text"},[(0,o.Lk)("i",{class:"fa fa-phone"})],-1),Mt={class:"col-sm-6"},Ut={class:"mb-3"},Et=(0,o.Lk)("label",{class:"form-label"},[(0,o.eW)("الحالة "),(0,o.Lk)("span",{class:"text-danger"},"*")],-1),Tt=(0,o.Lk)("option",{value:"1"},"فعال",-1),$t=(0,o.Lk)("option",{value:"0"},"غير فعال",-1),qt=[Tt,$t],Nt={class:"col-sm-6 mb-3"},Bt=(0,o.Lk)("label",{class:"form-label"},"الإجراءات ",-1),Ft=(0,o.Lk)("option",{value:"1"},"تم التعامل سابقا",-1),It=(0,o.Lk)("option",{value:"2"},"لم يتم التعامل",-1),Vt=(0,o.Lk)("option",{value:"3"},"ممتاز",-1),Rt=(0,o.Lk)("option",{value:"4"},"غير ممتاز",-1),Wt=[Ft,It,Vt,Rt],Ot={class:"col-sm-12"},Xt={class:"mb-3"},jt=(0,o.Lk)("label",{class:"form-label"},"ملاحظات",-1),Ht=(0,o.Lk)("div",{class:"modal-footer"},[(0,o.Lk)("button",{type:"button",class:"closeModalbtn btn btn-secondary","data-bs-dismiss":"modal"},"تراجع"),(0,o.Lk)("button",{type:"submit",class:"saveUserbtn btn btn-primary"},"حفظ الآن")],-1);function Jt(e,t,a,n,l,r){return(0,o.uX)(),(0,o.CE)("div",He,[(0,o.Lk)("div",Je,[(0,o.Lk)("form",{class:"modal-content",onSubmit:t[11]||(t[11]=(0,s.D$)(((...e)=>r.handleSubmit&&r.handleSubmit(...e)),["prevent"])),id:"exampleModalLabelForm"},[(0,o.Lk)("div",Pe,[a.current_data?((0,o.uX)(),(0,o.CE)("h5",Qe,"تعديل")):((0,o.uX)(),(0,o.CE)("h5",ze,"إضافة جديد")),Ge]),(0,o.Lk)("div",Ke,[(0,o.Lk)("div",Ye,[(0,o.Lk)("div",Ze,[(0,o.Lk)("div",et,[tt,(0,o.Lk)("input",{type:"file",accept:"image/*",class:"form-control",onChange:t[0]||(t[0]=(...e)=>r.handleImage&&r.handleImage(...e))},null,32)])]),(0,o.Lk)("div",at,[(0,o.Lk)("div",st,[ot,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>l.formData.name=e),class:"form-control",required:""},null,512),[[s.Jo,l.formData.name]])])]),(0,o.Lk)("div",nt,[(0,o.Lk)("div",lt,[rt,(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.formData.gender=e),id:"",class:"form-control",required:""},dt,512),[[s.u1,l.formData.gender]])])]),(0,o.Lk)("div",mt,[(0,o.Lk)("div",ut,[ht,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>l.formData.nationality=e),class:"form-control",required:""},null,512),[[s.Jo,l.formData.nationality]])])]),(0,o.Lk)("div",pt,[bt,(0,o.Lk)("div",ft,[kt,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>l.formData.city=e),class:"form-control",required:""},null,512),[[s.Jo,l.formData.city]])])]),(0,o.Lk)("div",Lt,[(0,o.Lk)("div",gt,[yt,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>l.formData.age=e),class:"form-control",required:""},null,512),[[s.Jo,l.formData.age]])])]),(0,o.Lk)("div",vt,[xt,(0,o.Lk)("div",wt,[Dt,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=e=>l.formData.price=e),class:"form-control",required:""},null,512),[[s.Jo,l.formData.price]])])]),(0,o.Lk)("div",Ct,[St,(0,o.Lk)("div",_t,[At,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=e=>l.formData.mobile=e),class:"form-control",required:""},null,512),[[s.Jo,l.formData.mobile]])])]),(0,o.Lk)("div",Mt,[(0,o.Lk)("div",Ut,[Et,(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[8]||(t[8]=e=>l.formData.status=e),id:"",class:"form-control",required:""},qt,512),[[s.u1,l.formData.status]])])]),(0,o.Lk)("div",Nt,[Bt,(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[9]||(t[9]=e=>l.formData.actions=e),id:"",class:"form-control",multiple:""},Wt,512),[[s.u1,l.formData.actions]])]),(0,o.Lk)("div",Ot,[(0,o.Lk)("div",Xt,[jt,(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[10]||(t[10]=e=>l.formData.notes=e),class:"form-control",rows:"5"},null,512),[[s.Jo,l.formData.notes]])])])])]),Ht],32)])])}var Pt={name:"NewModal",props:["current_data"],data(){return{image:null,formData:{name:"",gender:"male",nationality:"",city:"",age:30,price:"",mobile:"",status:1,notes:"",actions:"",id:null}}},watch:{current_data(e){e&&(this.formData.id=e?e.idd:"",this.formData.name=e?e.name:"",this.formData.gender=e?"ذكر"==e.gender?"male":"female":"ذكر",this.formData.nationality=e?e.nationality:"",this.formData.city=e?e.city:"",this.formData.age=e?e.age:"",this.formData.price=e?e.price:"",this.formData.mobile=e?e.mobile:"",this.formData.status=e?e.status:"",this.formData.notes=e?e.notes:"","string"===typeof e?.actions&&""!==e?.actions.trim()?this.formData.actions=e.actions.split(","):this.formData.actions=[])}},methods:{handleImage(e){this.image=e.target.files[0]},async handleSubmit(){document.querySelector(".saveUserbtn").disabled=!0,document.querySelector(".closeModalbtn").disabled=!0;let e=`${Oe}/api/admin/saveData`;const t=new FormData;t.append("imageData",this.image),t.append("name",this.formData.name),t.append("gender",this.formData.gender),t.append("nationality",this.formData.nationality),t.append("city",this.formData.city),t.append("age",this.formData.age),t.append("price",this.formData.price),t.append("mobile",this.formData.mobile),t.append("status",this.formData.status),t.append("notes",this.formData.notes),t.append("actions",this.formData.actions),this.current_data?.id&&(t.append("id",this.formData.id),e=`${Oe}/api/admin/updateData`);try{const a=await We.A.post(e,t,{headers:{"Content-Type":"multipart/form-data"}});if(1==a.data.status_){const e=document.getElementById("exampleModalLabelForm");e.reset(),this.$notify({type:"success",text:"تم الحفظ بنجاح"}),this.$emit("reload"),this.formData.id=null,this.formData.name="",this.formData.gender="male",this.formData.nationality="",this.formData.city="",this.formData.age=30,this.formData.price="",this.formData.mobile="",this.formData.status=1,this.formData.notes="",this.formData.actions="",this.image=null}else console.log(a.data.message),this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "})}catch(a){this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "}),console.error("Error uploading file:",a)}finally{document.querySelector(".saveUserbtn").disabled=!1,document.querySelector(".closeModalbtn").disabled=!1,document.querySelector(".closeModalbtn").click()}}}};const Qt=(0,r.A)(Pt,[["render",Jt]]);var zt=Qt,Gt={name:"UsersTable",components:{NewModal:zt,AgGridVue:Re.b},props:["searchText"],mounted(){this.getData()},data(){return{serverUrl:Oe,files:null,isChecked1:!1,isChecked2:!1,isChecked3:!1,isChecked4:!1,current_id:null,current_data:null,current_notes:"",current_attachements:"",attachements_name:(new Date).toISOString().replace("T"," ").slice(0,19),datas:[],columnDefs:[{field:"id",headerName:"#",width:50,cellClass:"text-center"},{field:"image",headerName:"الصورة",width:100,cellRenderer:this.renderImageCell},{field:"name",headerName:"الإسم"},{field:"gender",headerName:"الجنس",width:140},{field:"nationality",headerName:"الجنسية",width:140},{field:"city",headerName:"المدينة"},{field:"age",headerName:"العمر",width:140},{field:"price",headerName:"التكلفة",cellRenderer:this.renderPriceCell},{field:"mobile",headerName:"الجوال"},{field:"attachements",headerName:"الأعمال",width:140,cellClass:"text-center",cellRenderer:this.renderAttachementsCell},{field:"status",headerName:"الحالة",width:140,cellClass:"text-center",cellRenderer:this.renderSendButton},{field:"notes",headerName:"ملاحظات",width:140,cellClass:"text-center",cellRenderer:this.renderNotesCell},{field:"actions",headerName:"الإجراءات",width:140,cellClass:"text-center",cellRenderer:this.renderActionsCell}],defaultColDef:{resizable:!0,sortable:!0}}},computed:{filteredDatas(){let e=[];return this.datas.map(((t,a)=>{const s=t.image&&""!=t.image?t.image:`${Oe}/uploads/no-image.jpg`,o={id:a+1,image:s,name:t.name,gender:"male"==t.gender?"ذكر":"أنثى",nationality:t.nationality,city:t.city,age:t.age,price:t.price,mobile:t.mobile,attachements:1,status:t.status,notes:t.notes,idd:t._id,actions:t.actions,attachments:t.attachments};e.push(o)})),e.reverse(),e.map(((e,t)=>{e.id=t+1})),e}},watch:{searchText(e){console.info("myProp changed:",e)}},methods:{onModelUpdated(e){const t=e.api.getDisplayedRowCount(),a=100+80*t;document.querySelector(".ag-center-cols-viewport").style.height=`${a}px`},getRowStyle(e){const t=e.node.rowIndex,a=20+20*t;return{top:`${a}px`}},renderImageCell(e){const t=document.createElement("img");return t.src=e.value,t.alt=e.data.make,t.className="custom-image",t},renderPriceCell(e){return e.value.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},renderAttachementsCell(e){const t=document.createElement("div");return t.className="btn btn-x",t.innerHTML='<i class="fas fa-ellipsis-h"></i>',this.addClickEventListenerButtonAttachements(t,e.data),t},addClickEventListenerButtonAttachements(e,t){e.addEventListener("click",(()=>this.updateAttachements(t)))},updateAttachements(e){this.current_id=e.idd;let t=e.attachments||"";this.current_attachements=t.split(",").filter((e=>e));const a=this.$refs.attachementsModal;if(a){const e=new(je().Modal)(a);e.show()}},handleFiles(e){const t=e.target.files;this.files=Array.from(t)},async handleSubmitAttachements(){document.querySelector(".saveUserbtnAttachements").disabled=!0,document.querySelector(".closeModalbtnAttachements").disabled=!0;const e=this.current_id,t=this.files;try{const a=new FormData;for(const e of t)a.append("files",e);a.append("id",e),a.append("name",this.attachements_name);const s=await We.A.post(`${Oe}/api/admin/setDataAttachements`,a,{headers:{"Content-Type":"multipart/form-data"}});if(1==s.data.status_){this.$notify({type:"success",text:"تم تحديث الأعمال بتجاح"});let e=s.data.data||"";this.current_attachements=e.split(",").filter((e=>e));const t=document.getElementById("exampleModalLabelFormAtt");t.reset(),this.getData()}else console.error(s.data.message),this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "})}catch(a){this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "}),console.error("Error uploading file:",a)}finally{document.querySelector(".saveUserbtnAttachements").disabled=!1,document.querySelector(".closeModalbtnAttachements").disabled=!1,this.attachements_name=(new Date).toISOString().replace("T"," ").slice(0,19)}},renderSendButton(e){const t=document.createElement("div");return 1==e.value?(t.innerHTML="<span>فعال</span>",t.className="cursor-pointer badge text-success border border-success text-decoration-none px-3 py-1"):(t.innerHTML="<span>غير فعال</span>",t.className="cursor-pointer badge text-danger border border-danger text-decoration-none px-3 py-1"),this.addClickEventListenerButton(t,e.data),t},addClickEventListenerButton(e,t){e.addEventListener("click",(()=>this.setDataStatus(t)))},async setDataStatus(e){var t=e.idd,a=1==e.status?0:1;try{const e=await We.A.post(`${Oe}/api/admin/setDataStatus`,{id:t,status:a});1==e.data.status_?(this.$notify({type:"success",text:"تم تغيير الحالة بتجاح"}),this.getData()):(console.error(e.data.message),this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "}))}catch(s){this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "}),console.error("Error uploading file:",s)}},renderNotesCell(e){const t=document.createElement("div");return t.className="btn btn-x",t.innerHTML='<i class="fas fa-ellipsis-h"></i>',this.addClickEventListenerButtonNotes(t,e.data),t},addClickEventListenerButtonNotes(e,t){e.addEventListener("click",(()=>this.updateNotes(t)))},updateNotes(e){this.current_id=e.idd,this.current_notes=e.notes;const t=this.$refs.notesModal;if(t){const e=new(je().Modal)(t);e.show()}},async handleSubmitNotes(){document.querySelector(".saveUserbtnNotes").disabled=!0,document.querySelector(".closeModalbtnNotes").disabled=!0;const e=this.current_id,t=this.current_notes;try{const a=await We.A.post(`${Oe}/api/admin/setDataNotes`,{id:e,notes:t});1==a.data.status_?(this.$notify({type:"success",text:"تم تحديث الملاحظات بتجاح"}),this.getData()):(console.error(a.data.message),this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "}))}catch(a){this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "}),console.error("Error uploading file:",a)}finally{document.querySelector(".saveUserbtnNotes").disabled=!1,document.querySelector(".closeModalbtnNotes").disabled=!1,document.querySelector(".closeModalbtnNotes").click()}},renderActionsCell(e){const t=document.createElement("div");return t.className="btn btn-x",t.innerHTML='<i class="fas fa-ellipsis-h"></i>',this.addClickEventListenerButtonActions(t,e.data),t},addClickEventListenerButtonActions(e,t){e.addEventListener("click",(()=>this.updateActions(t)))},updateActions(e){this.current_id=e.idd,this.current_data=e;const t=e.actions||"",a=t.split(",").map((e=>parseInt(e.trim(),10)));this.isChecked1=!1,this.isChecked2=!1,this.isChecked3=!1,this.isChecked4=!1,a.forEach((e=>{1===e?this.isChecked1=!0:2===e?this.isChecked2=!0:3===e?this.isChecked3=!0:4===e&&(this.isChecked4=!0)}));const s=this.$refs.actionsModal;if(s){const e=new(je().Modal)(s);e.show()}},async handleSubmitActions(){document.querySelector(".saveUserbtnActions").disabled=!0,document.querySelector(".closeModalbtnActions").disabled=!0,document.querySelector(".deleteModalbtnActions").disabled=!0;const e=this.current_id,t=[];this.isChecked1&&t.push(1),this.isChecked2&&t.push(2),this.isChecked3&&t.push(3),this.isChecked4&&t.push(4);const a=t.join(",");try{const t=await We.A.post(`${Oe}/api/admin/setDataActions`,{id:e,actions:a});1==t.data.status_?(this.$notify({type:"success",text:"تم تحديث الإجراءات بتجاح"}),this.getData()):(console.error(t.data.message),this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "}))}catch(s){this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "}),console.error("Error uploading file:",s)}finally{document.querySelector(".saveUserbtnActions").disabled=!1,document.querySelector(".closeModalbtnActions").disabled=!1,document.querySelector(".deleteModalbtnActions").disabled=!1,document.querySelector(".closeModalbtnActions").click()}},async deleteUser(){const e=this.current_id,t=confirm("هل أنت متأكد أنك تريد حذف هذا المستخدم؟");if(t)try{const t=await We.A.post(`${Oe}/api/admin/deleteData`,{id:e});if(1==t.data.status_){this.$notify({type:"success",text:"تم الحذف بتجاح"});const e=document.querySelector(".closeModalbtnActions");e&&e.click(),this.getData()}else console.error(t.data.message),this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "})}catch(a){this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "}),console.error("Error uploading file:",a)}},editUser(){this.$emit("send_current_data",this.current_data);const e=document.querySelector(".closeModalbtnActions");e&&e.click(),setTimeout((function(){const e=document.querySelector("#exampleModalBtn2");e&&e.click()}),1e3)},async getData(){try{const e=await We.A.get(`${Oe}/api/admin/getData`);1==e.data.status_?(this.datas=e.data.datas,console.info(e.data.datas)):(console.error(e.data.message),this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "}))}catch(e){this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "}),console.error("Error uploading file:",e)}},isImageUrl(e){return[".jpg",".jpeg",".png",".gif",".bmp",".webp",".svg"].some((t=>e.toLowerCase().endsWith(t)))},isPdfUrl(e){return e.toLowerCase().endsWith(".pdf")},isWordOrTxtUrl(e){const t=e.toLowerCase();return t.endsWith(".doc")||t.endsWith(".docx")||t.endsWith(".txt")||t.endsWith(".document")||t.endsWith(".plain")},isVideoUrl(e){const t=e.toLowerCase(),a=[".mp4",".avi",".mkv",".mov",".flv",".wmv",".webm"];return a.some((e=>t.endsWith(e)))},reloadData(){this.getData()}}};const Kt=(0,r.A)(Gt,[["render",Ve],["__scopeId","data-v-44371694"]]);var Yt=Kt,Zt={components:{NewModal:zt,UsersTable:Yt,UserToggle:F,SearchForm:A},data(){return{searchText:"",current_data:null}},methods:{updateSearchText(e){this.searchText=e},reloadData(){this.$refs.UsersTableRef.getData()},send_current_data(e){this.current_data=e},handleButtonClick(){const e=document.getElementById("exampleModal"),t=new(je().Modal)(e);this.current_data=null,t.show()},handleButtonClick2(){const e=document.getElementById("exampleModal"),t=new(je().Modal)(e);t.show()}},mounted(){const e=document.querySelector(".modal-backdrop");e&&e.parentNode.removeChild(e)}};const ea=(0,r.A)(Zt,[["render",x]]);var ta=ea;const aa=e=>((0,o.Qi)("data-v-718e07f9"),e=e(),(0,o.jt)(),e),sa={class:"container mt-5"},oa={class:"row justify-content-center"},na={class:"col-md-4"},la={class:"card"},ra=aa((()=>(0,o.Lk)("div",{class:"card-header"},[(0,o.Lk)("h4",{class:"card-title text-center m-0"},"تسجيل الدخول")],-1))),ia={class:"card-body"},ca={class:"mb-3"},da=aa((()=>(0,o.Lk)("label",{for:"username",class:"form-label fw-bold"},"اسم المستخدم:",-1))),ma={class:"mb-3"},ua=aa((()=>(0,o.Lk)("label",{for:"password",class:"form-label fw-bold"},"كلمة المرور:",-1))),ha=aa((()=>(0,o.Lk)("button",{type:"submit",class:"btn btn-primary w-100"},"تسجيل الدخول",-1))),pa={key:0,class:"error mt-3 fw-bold"};function ba(e,t,a,n,l,r){return(0,o.uX)(),(0,o.CE)("div",sa,[(0,o.Lk)("div",oa,[(0,o.Lk)("div",na,[(0,o.Lk)("div",la,[ra,(0,o.Lk)("div",ia,[(0,o.Lk)("form",{onSubmit:t[2]||(t[2]=(0,s.D$)(((...e)=>r.login&&r.login(...e)),["prevent"]))},[(0,o.Lk)("div",ca,[da,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.username=e),type:"text",class:"form-control",id:"username",required:""},null,512),[[s.Jo,l.username]])]),(0,o.Lk)("div",ma,[ua,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e),type:"password",class:"form-control",id:"password",required:""},null,512),[[s.Jo,l.password]])]),ha,l.loginError?((0,o.uX)(),(0,o.CE)("span",pa,(0,M.v_)(l.loginError),1)):(0,o.Q3)("",!0)],32)])])])])])}var fa={data(){return{username:"",password:"",loginError:""}},methods:{async login(){try{await We.A.post(`${Oe}/api/admin/login`,{username:this.username,password:this.password}),localStorage.setItem("isAuthenticated",!0),this.$router.push({name:"Admin"})}catch(e){e.response&&401===e.response.status?this.loginError="اسم المستخدم أو كلمة المرور غير صحيحة. الرجاء المحاولة مرة أخرى.":this.loginError="حدث خطأ أثناء عملية تسجيل الدخول. الرجاء المحاولة مرة أخرى لاحقًا."}}}};const ka=(0,r.A)(fa,[["render",ba],["__scopeId","data-v-718e07f9"]]);var La=ka;const ga=[{path:"/",name:"Home",component:ta,meta:{requiresAuth:!0}},{path:"/admin",name:"Admin",component:ta,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:La}],ya=(0,m.aE)({history:(0,m.LA)(),routes:ga});ya.beforeEach(((e,t,a)=>{const s=localStorage.getItem("isAuthenticated");e.matched.some((e=>e.meta.requiresAuth))?s?a():a({name:"Login"}):a()}));var va=ya;(0,s.Ef)(c).mount("#app");const xa=(0,s.Ef)(c);xa.use(va),document.addEventListener("click",(function(e){e.target.classList.contains("modal-backdrop")&&e.target.remove()})),xa.use(d.Ay),xa.mount("#app")}},t={};function a(s){var o=t[s];if(void 0!==o)return o.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,s,o,n){if(!s){var l=1/0;for(d=0;d<e.length;d++){s=e[d][0],o=e[d][1],n=e[d][2];for(var r=!0,i=0;i<s.length;i++)(!1&n||l>=n)&&Object.keys(a.O).every((function(e){return a.O[e](s[i])}))?s.splice(i--,1):(r=!1,n<l&&(l=n));if(r){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[s,o,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,n,l=s[0],r=s[1],i=s[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(o in r)a.o(r,o)&&(a.m[o]=r[o]);if(i)var d=i(a)}for(t&&t(s);c<l.length;c++)n=l[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(d)},s=self["webpackChunkfront"]=self["webpackChunkfront"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(4447)}));s=a.O(s)})();
//# sourceMappingURL=app.cc1c23cb.js.map