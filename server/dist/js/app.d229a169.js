(function(){"use strict";var e={6605:function(e,t,a){var s=a(5130),o=a(6768);function l(e,t,a,s,l,n){const r=(0,o.g2)("notifications"),i=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(r,{position:"top center"}),(0,o.bF)(i)])}a(323);var n={name:"App"},r=a(1241);const i=(0,r.A)(n,[["render",l]]);var c=i,d=a(7278),m=a(1387);const u={class:"container-fluid text-end px-5 pb-5"},p={class:"row mb-4"},h={class:"col-sm-2"},b=(0,o.Lk)("div",{class:"col-sm-8"},null,-1),f={class:"col-sm-2"},k=(0,o.Lk)("div",{class:"col-sm-12 mt-5 pt-3"},null,-1),L=(0,o.Lk)("div",{class:"col-sm-2"},[(0,o.Lk)("h1",{class:""},"الممثلين")],-1),g=(0,o.Lk)("div",{class:"col-sm-8"},null,-1),y={class:"col-sm-2"},v={class:"row pb-5"};function x(e,t,a,s,l,n){const r=(0,o.g2)("SearchForm"),i=(0,o.g2)("UserToggle"),c=(0,o.g2)("NewModal"),d=(0,o.g2)("UsersTable");return(0,o.uX)(),(0,o.CE)("div",u,[(0,o.Lk)("div",p,[(0,o.Lk)("div",h,[(0,o.bF)(r,{searchText:l.searchText,"onUpdate:searchText":t[0]||(t[0]=e=>l.searchText=e)},null,8,["searchText"])]),b,(0,o.Lk)("div",f,[(0,o.bF)(i)]),k,L,g,(0,o.Lk)("div",y,[(0,o.Lk)("button",{class:"btn btn-warning",href:"#",onClick:t[1]||(t[1]=(...e)=>n.handleButtonClick&&n.handleButtonClick(...e)),id:"exampleModalBtn"},"جديد"),(0,o.Lk)("button",{class:"btn btn-warning d-none",href:"#",onClick:t[2]||(t[2]=(...e)=>n.handleButtonClick2&&n.handleButtonClick2(...e)),id:"exampleModalBtn2"},"جديد")])]),(0,o.Lk)("div",v,[(0,o.bF)(c,{current_data:l.current_data,onReload:n.reloadData},null,8,["current_data","onReload"]),(0,o.bF)(d,{onSend_current_data:n.send_current_data,searchText:l.searchText,ref:"UsersTableRef"},null,8,["onSend_current_data","searchText"])])])}const C={class:"input-group",id:"search"},w=(0,o.Lk)("span",{class:"btn btn-outline-secondary",style:{"padding-top":"10px !important"}},[(0,o.Lk)("i",{class:"fa-solid fa-magnifying-glass"})],-1);function D(e,t,a,l,n,r){return(0,o.uX)(),(0,o.CE)("div",C,[w,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",placeholder:"بحث","onUpdate:modelValue":t[0]||(t[0]=e=>n.localSearchText=e),onInput:t[1]||(t[1]=(...e)=>r.updateSearchText&&r.updateSearchText(...e))},null,544),[[s.Jo,n.localSearchText]])])}var S={name:"SearchForm",props:["searchText"],data(){return{localSearchText:this.searchText}},methods:{updateSearchText(){this.$emit("update:searchText",this.localSearchText)}},watch:{searchText(e){this.localSearchText=e}}};const _=(0,r.A)(S,[["render",D]]);var A=_,M=a(4232);const U={id:"user-dropdwon",class:"position-relative"},E=(0,o.Lk)("img",{src:"https://ps.w.org/user-avatar-reloaded/assets/icon-256x256.png?rev=2540745",alt:""},null,-1),T=(0,o.Lk)("strong",null,"عبد العزيز",-1),$=[E,T];function q(e,t,a,l,n,r){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",U,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.toggleShow&&r.toggleShow(...e)),class:(0,M.C4)(["btn text-start ",{show:n.active}])},$,2),(0,o.Lk)("ul",{class:(0,M.C4)(["dropdown-menu ",{show:n.active}])},[(0,o.Lk)("li",null,[(0,o.Lk)("a",{class:"dropdown-item",href:"#",onClick:t[1]||(t[1]=(0,s.D$)(((...e)=>r.handleClick&&r.handleClick(...e)),["prevent"]))},"تسجيل الخروج")])],2)])])}var N={name:"UserToggle",data(){return{active:!1}},methods:{toggleShow(){this.active=!this.active},handleClick(){localStorage.removeItem("isAuthenticated"),"undefined"!==typeof window&&window.location.reload()}}};const B=(0,r.A)(N,[["render",q]]);var F=B;const V=e=>((0,o.Qi)("data-v-390cb12a"),e=e(),(0,o.jt)(),e),I={class:"modal fade",id:"NotesModal",ref:"notesModal",tabindex:"-1","aria-hidden":"true"},O={class:"modal-dialog modal-lg"},W=V((()=>(0,o.Lk)("div",{class:"modal-header"},[(0,o.Lk)("h5",{class:"modal-title",id:"exampleModalLabel"},"تحديث الملاحظات"),(0,o.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),R={class:"modal-body"},X={class:"row"},j={class:"col-sm-12"},H={class:"mb-3"},J=V((()=>(0,o.Lk)("label",{class:"form-label"},"ملاحظات",-1))),P=V((()=>(0,o.Lk)("div",{class:"modal-footer"},[(0,o.Lk)("button",{type:"button",class:"closeModalbtnNotes btn btn-secondary","data-bs-dismiss":"modal"},"تراجع"),(0,o.Lk)("button",{type:"submit",class:"saveUserbtnNotes btn btn-primary"},"حفظ الآن")],-1))),Q={class:"modal fade",id:"actionsModal",ref:"actionsModal",tabindex:"-1","aria-hidden":"true"},z={class:"modal-dialog modal-sm"},G=V((()=>(0,o.Lk)("div",{class:"modal-header"},[(0,o.Lk)("h5",{class:"modal-title",id:"exampleModalLabel"},"الإجراءات"),(0,o.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),K={class:"modal-body"},Y={class:"row"},Z={class:"col-sm-12"},ee={class:"mb-3"},te={class:"custom-checkbox"},ae=V((()=>(0,o.Lk)("span",{class:"checkmark"},null,-1))),se=V((()=>(0,o.Lk)("span",{class:"checkbox_label"},"تم التعامل سابقا",-1))),oe={class:"custom-checkbox"},le=V((()=>(0,o.Lk)("span",{class:"checkmark"},null,-1))),ne=V((()=>(0,o.Lk)("span",{class:"checkbox_label"},"لم يتم التعامل",-1))),re={class:"custom-checkbox"},ie=V((()=>(0,o.Lk)("span",{class:"checkmark"},null,-1))),ce=V((()=>(0,o.Lk)("span",{class:"checkbox_label"},"ممتاز",-1))),de={class:"custom-checkbox"},me=V((()=>(0,o.Lk)("span",{class:"checkmark"},null,-1))),ue=V((()=>(0,o.Lk)("span",{class:"checkbox_label"},"غير ممتاز",-1))),pe={class:"modal-footer modal-footer-actions"},he=V((()=>(0,o.Lk)("button",{type:"submit",class:"saveUserbtnActions btn btn-primary float-end"},"حفظ",-1))),be=V((()=>(0,o.Lk)("button",{type:"button",class:"closeModalbtnActions btn btn-secondary float-end","data-bs-dismiss":"modal"},"تراجع",-1))),fe={class:"modal fade",id:"attachementsModal",ref:"attachementsModal",tabindex:"-1","aria-hidden":"true"},ke={class:"modal-dialog modal-lg"},Le=V((()=>(0,o.Lk)("div",{class:"modal-header"},[(0,o.Lk)("h5",{class:"modal-title",id:"exampleModalLabel"},"تحديث الأعمال"),(0,o.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),ge={class:"modal-body"},ye={class:"row"},ve={class:"col-sm-12"},xe={class:"mb-3"},Ce=V((()=>(0,o.Lk)("label",{for:"attachment_name",class:"form-label"},"إسم العمل",-1))),we={class:"mb-3"},De=V((()=>(0,o.Lk)("label",{for:"attachment_files",class:"form-label"},"المرفقات",-1))),Se=["href"],_e=V((()=>(0,o.Lk)("i",{class:"fas fa-external-link-alt",style:{"margin-left":"10px"}},null,-1))),Ae={key:0},Me=["src"],Ue={key:1},Ee=V((()=>(0,o.Lk)("i",{class:"fas fa-file-pdf text-danger"},null,-1))),Te=[Ee],$e={key:2},qe=V((()=>(0,o.Lk)("i",{class:"fas fa-file-word text-primary"},null,-1))),Ne=[qe],Be={key:3},Fe=V((()=>(0,o.Lk)("i",{class:"fas fa-video text-success"},null,-1))),Ve=[Fe],Ie={key:0},Oe=["src"],We={key:1},Re={controls:"",style:{width:"100%"}},Xe=["src"],je=V((()=>(0,o.Lk)("div",{class:"modal-footer"},[(0,o.Lk)("button",{type:"button",class:"closeModalbtnAttachements btn btn-secondary","data-bs-dismiss":"modal"},"تراجع"),(0,o.Lk)("button",{type:"submit",class:"saveUserbtnAttachements btn btn-primary"},"حفظ الآن")],-1)));function He(e,t,a,l,n,r){const i=(0,o.g2)("ag-grid-vue"),c=(0,o.g2)("NewModal");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(i,{columnDefs:n.columnDefs,rowData:r.filteredDatas,defaultColDef:n.defaultColDef,quickFilterText:a.searchText,domLayout:"autoHeight",gridAutoHeight:!0,class:"ag-theme-quartz custom-ag-grid",enableRtl:!0,rowHeight:60,pagination:!0,getRowStyle:r.getRowStyle,onModelUpdated:r.onModelUpdated,paginationPageSize:50,gridOptions:{localeText:n.arabicLocale}},null,8,["columnDefs","rowData","defaultColDef","quickFilterText","getRowStyle","onModelUpdated","gridOptions"]),(0,o.Lk)("div",I,[(0,o.Lk)("div",O,[(0,o.Lk)("form",{class:"modal-content",onSubmit:t[1]||(t[1]=(0,s.D$)(((...e)=>r.handleSubmitNotes&&r.handleSubmitNotes(...e)),["prevent"]))},[W,(0,o.Lk)("div",R,[(0,o.Lk)("div",X,[(0,o.Lk)("div",j,[(0,o.Lk)("div",H,[J,(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.current_notes=e),class:"form-control",rows:"5"},null,512),[[s.Jo,n.current_notes]])])])])]),P],32)])],512),(0,o.Lk)("div",Q,[(0,o.Lk)("div",z,[(0,o.Lk)("form",{class:"modal-content",onSubmit:t[8]||(t[8]=(0,s.D$)(((...e)=>r.handleSubmitActions&&r.handleSubmitActions(...e)),["prevent"]))},[G,(0,o.Lk)("div",K,[(0,o.Lk)("div",Y,[(0,o.Lk)("div",Z,[(0,o.Lk)("div",ee,[(0,o.Lk)("label",te,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=e=>n.isChecked1=e)},null,512),[[s.lH,n.isChecked1]]),ae,se]),(0,o.Lk)("label",oe,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=e=>n.isChecked2=e)},null,512),[[s.lH,n.isChecked2]]),le,ne]),(0,o.Lk)("label",re,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=e=>n.isChecked3=e)},null,512),[[s.lH,n.isChecked3]]),ie,ce]),(0,o.Lk)("label",de,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=e=>n.isChecked4=e)},null,512),[[s.lH,n.isChecked4]]),me,ue])])])])]),(0,o.Lk)("div",pe,[(0,o.Lk)("button",{type:"button",onClick:t[6]||(t[6]=(0,s.D$)(((...e)=>r.deleteUser&&r.deleteUser(...e)),["prevent"])),class:"deleteModalbtnActions btn btn-danger float-start"},"حذف"),(0,o.Lk)("button",{type:"button",onClick:t[7]||(t[7]=(0,s.D$)(((...e)=>r.editUser&&r.editUser(...e)),["prevent"])),class:"editModalbtnActions btn btn-success float-start"},"تعديل"),he,be])],32)])],512),(0,o.Lk)("div",fe,[(0,o.Lk)("div",ke,[(0,o.Lk)("form",{class:"modal-content",id:"exampleModalLabelFormAtt",onSubmit:t[11]||(t[11]=(0,s.D$)(((...e)=>r.handleSubmitAttachements&&r.handleSubmitAttachements(...e)),["prevent"]))},[Le,(0,o.Lk)("div",ge,[(0,o.Lk)("div",ye,[(0,o.Lk)("div",ve,[(0,o.Lk)("div",xe,[Ce,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control mb-3","onUpdate:modelValue":t[9]||(t[9]=e=>n.attachements_name=e),required:"",placeholder:"إسم العمل",id:"attachment_name"},null,512),[[s.Jo,n.attachements_name]])]),(0,o.Lk)("div",we,[De,(0,o.Lk)("input",{type:"file",onChange:t[10]||(t[10]=(...e)=>r.handleFiles&&r.handleFiles(...e)),multiple:"",required:"",id:"attachment_files",accept:"image/*,.pdf,.txt,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,video/*",class:"form-control"},null,32)])]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.current_attachements,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{class:"col-sm-6",key:t},[(0,o.Lk)("a",{href:e.split(";")[0],target:"_blank",class:"an-attachement"},[_e,(0,o.Lk)("strong",null,(0,M.v_)(e.split(";")[1]),1),r.isImageUrl(e.split(";")[0])?((0,o.uX)(),(0,o.CE)("div",Ae,[(0,o.Lk)("img",{src:e.split(";")[0],alt:""},null,8,Me)])):(0,o.Q3)("",!0),r.isPdfUrl(e.split(";")[0])?((0,o.uX)(),(0,o.CE)("div",Ue,Te)):(0,o.Q3)("",!0),r.isWordOrTxtUrl(e.split(";")[0])?((0,o.uX)(),(0,o.CE)("div",$e,Ne)):(0,o.Q3)("",!0),r.isVideoUrl(e.split(";")[0])?((0,o.uX)(),(0,o.CE)("div",Be,Ve)):(0,o.Q3)("",!0)],8,Se),r.isImageUrl(e.split(";")[0])?((0,o.uX)(),(0,o.CE)("div",Ie,[(0,o.Lk)("img",{src:e.split(";")[0],alt:"",style:{width:"100%"}},null,8,Oe)])):(0,o.Q3)("",!0),r.isVideoUrl(e.split(";")[0])?((0,o.uX)(),(0,o.CE)("div",We,[(0,o.Lk)("video",Re,[(0,o.Lk)("source",{src:e.split(";")[0]},null,8,Xe),(0,o.eW)(" Your browser does not support the video tag. ")])])):(0,o.Q3)("",!0)])))),128))])]),je],32)])],512),(0,o.bF)(c,{data:n.current_data,onReload:r.reloadData},null,8,["data","onReload"])])}a(4114);var Je=a(3505),Pe=a(8355);const Qe="https://new-app-content-dcc934885c58.herokuapp.com";var ze=a(9953),Ge=a.n(ze);const Ke={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Ye={class:"modal-dialog modal-lg"},Ze={class:"modal-header"},et={key:0,class:"modal-title",id:"exampleModalLabel"},tt={key:1,class:"modal-title",id:"exampleModalLabel"},at=(0,o.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),st={class:"modal-body"},ot={class:"row"},lt={class:"col-sm-6"},nt={class:"mb-3"},rt=(0,o.Lk)("label",{class:"form-label"},"الصورة",-1),it={class:"col-sm-6"},ct={class:"mb-3"},dt=(0,o.Lk)("label",{class:"form-label"},[(0,o.eW)("الإسم "),(0,o.Lk)("span",{class:"text-danger"},"*")],-1),mt={class:"col-sm-6"},ut={class:"mb-3"},pt=(0,o.Lk)("label",{class:"form-label"},[(0,o.eW)("الجنس "),(0,o.Lk)("span",{class:"text-danger"},"*")],-1),ht=(0,o.Lk)("option",{value:"male"},"ذكر",-1),bt=(0,o.Lk)("option",{value:"female"},"أنثى",-1),ft=[ht,bt],kt={class:"col-sm-6"},Lt={class:"mb-3"},gt=(0,o.Lk)("label",{class:"form-label"},[(0,o.eW)("الجنسية "),(0,o.Lk)("span",{class:"text-danger"},"*")],-1),yt={class:"col-sm-6 mb-3"},vt=(0,o.Lk)("label",{class:"form-label"},[(0,o.eW)("المدينة "),(0,o.Lk)("span",{class:"text-danger"},"*")],-1),xt={class:"input-group"},Ct=(0,o.Lk)("span",{class:"input-group-text"},[(0,o.Lk)("i",{class:"fas fa-globe"})],-1),wt={class:"col-sm-6"},Dt={class:"mb-3"},St=(0,o.Lk)("label",{class:"form-label"},[(0,o.eW)("العمر "),(0,o.Lk)("span",{class:"text-danger"},"*")],-1),_t={class:"col-sm-6"},At=(0,o.Lk)("label",{class:"form-label"},[(0,o.eW)("التكلفة "),(0,o.Lk)("span",{class:"text-danger"},"*")],-1),Mt={class:"input-group"},Ut=(0,o.Lk)("span",{class:"input-group-text"},[(0,o.Lk)("i",{class:"fas fa-dollar-sign"})],-1),Et={class:"col-sm-6 mb-3"},Tt=(0,o.Lk)("label",{class:"form-label"},[(0,o.eW)("الجوال "),(0,o.Lk)("span",{class:"text-danger"},"*")],-1),$t={class:"input-group"},qt=(0,o.Lk)("span",{class:"input-group-text"},[(0,o.Lk)("i",{class:"fa fa-phone"})],-1),Nt={class:"col-sm-6"},Bt={class:"mb-3"},Ft=(0,o.Lk)("label",{class:"form-label"},[(0,o.eW)("الحالة "),(0,o.Lk)("span",{class:"text-danger"},"*")],-1),Vt=(0,o.Lk)("option",{value:"1"},"فعال",-1),It=(0,o.Lk)("option",{value:"0"},"غير فعال",-1),Ot=[Vt,It],Wt={class:"col-sm-6 mb-3"},Rt=(0,o.Lk)("label",{class:"form-label"},"الإجراءات ",-1),Xt=(0,o.Lk)("option",{value:"1"},"تم التعامل سابقا",-1),jt=(0,o.Lk)("option",{value:"2"},"لم يتم التعامل",-1),Ht=(0,o.Lk)("option",{value:"3"},"ممتاز",-1),Jt=(0,o.Lk)("option",{value:"4"},"غير ممتاز",-1),Pt=[Xt,jt,Ht,Jt],Qt={class:"col-sm-12"},zt={class:"mb-3"},Gt=(0,o.Lk)("label",{class:"form-label"},"ملاحظات",-1),Kt=(0,o.Lk)("div",{class:"modal-footer"},[(0,o.Lk)("button",{type:"button",class:"closeModalbtn btn btn-secondary","data-bs-dismiss":"modal"},"تراجع"),(0,o.Lk)("button",{type:"submit",class:"saveUserbtn btn btn-primary"},"حفظ الآن")],-1);function Yt(e,t,a,l,n,r){return(0,o.uX)(),(0,o.CE)("div",Ke,[(0,o.Lk)("div",Ye,[(0,o.Lk)("form",{class:"modal-content",onSubmit:t[11]||(t[11]=(0,s.D$)(((...e)=>r.handleSubmit&&r.handleSubmit(...e)),["prevent"])),id:"exampleModalLabelForm"},[(0,o.Lk)("div",Ze,[a.current_data?((0,o.uX)(),(0,o.CE)("h5",et,"تعديل")):((0,o.uX)(),(0,o.CE)("h5",tt,"إضافة جديد")),at]),(0,o.Lk)("div",st,[(0,o.Lk)("div",ot,[(0,o.Lk)("div",lt,[(0,o.Lk)("div",nt,[rt,(0,o.Lk)("input",{type:"file",accept:"image/*",class:"form-control",onChange:t[0]||(t[0]=(...e)=>r.handleImage&&r.handleImage(...e))},null,32)])]),(0,o.Lk)("div",it,[(0,o.Lk)("div",ct,[dt,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>n.formData.name=e),class:"form-control",required:""},null,512),[[s.Jo,n.formData.name]])])]),(0,o.Lk)("div",mt,[(0,o.Lk)("div",ut,[pt,(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.formData.gender=e),id:"",class:"form-control",required:""},ft,512),[[s.u1,n.formData.gender]])])]),(0,o.Lk)("div",kt,[(0,o.Lk)("div",Lt,[gt,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>n.formData.nationality=e),class:"form-control",required:""},null,512),[[s.Jo,n.formData.nationality]])])]),(0,o.Lk)("div",yt,[vt,(0,o.Lk)("div",xt,[Ct,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>n.formData.city=e),class:"form-control",required:""},null,512),[[s.Jo,n.formData.city]])])]),(0,o.Lk)("div",wt,[(0,o.Lk)("div",Dt,[St,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>n.formData.age=e),class:"form-control",required:""},null,512),[[s.Jo,n.formData.age]])])]),(0,o.Lk)("div",_t,[At,(0,o.Lk)("div",Mt,[Ut,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=e=>n.formData.price=e),class:"form-control",required:""},null,512),[[s.Jo,n.formData.price]])])]),(0,o.Lk)("div",Et,[Tt,(0,o.Lk)("div",$t,[qt,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=e=>n.formData.mobile=e),class:"form-control",required:""},null,512),[[s.Jo,n.formData.mobile]])])]),(0,o.Lk)("div",Nt,[(0,o.Lk)("div",Bt,[Ft,(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[8]||(t[8]=e=>n.formData.status=e),id:"",class:"form-control",required:""},Ot,512),[[s.u1,n.formData.status]])])]),(0,o.Lk)("div",Wt,[Rt,(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[9]||(t[9]=e=>n.formData.actions=e),id:"",class:"form-control",multiple:""},Pt,512),[[s.u1,n.formData.actions]])]),(0,o.Lk)("div",Qt,[(0,o.Lk)("div",zt,[Gt,(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[10]||(t[10]=e=>n.formData.notes=e),class:"form-control",rows:"5"},null,512),[[s.Jo,n.formData.notes]])])])])]),Kt],32)])])}var Zt={name:"NewModal",props:["current_data"],data(){return{image:null,formData:{name:"",gender:"male",nationality:"",city:"",age:30,price:"",mobile:"",status:1,notes:"",actions:"",id:null}}},watch:{current_data(e){e&&(this.formData.id=e?e.idd:"",this.formData.name=e?e.name:"",this.formData.gender=e?"ذكر"==e.gender?"male":"female":"ذكر",this.formData.nationality=e?e.nationality:"",this.formData.city=e?e.city:"",this.formData.age=e?e.age:"",this.formData.price=e?e.price:"",this.formData.mobile=e?e.mobile:"",this.formData.status=e?e.status:"",this.formData.notes=e?e.notes:"","string"===typeof e?.actions&&""!==e?.actions.trim()?this.formData.actions=e.actions.split(","):this.formData.actions=[])}},methods:{handleImage(e){this.image=e.target.files[0]},async handleSubmit(){document.querySelector(".saveUserbtn").disabled=!0,document.querySelector(".closeModalbtn").disabled=!0;let e=`${Qe}/api/admin/saveData`;const t=new FormData;t.append("imageData",this.image),t.append("name",this.formData.name),t.append("gender",this.formData.gender),t.append("nationality",this.formData.nationality),t.append("city",this.formData.city),t.append("age",this.formData.age),t.append("price",this.formData.price),t.append("mobile",this.formData.mobile),t.append("status",this.formData.status),t.append("notes",this.formData.notes),t.append("actions",this.formData.actions),this.current_data?.id&&(t.append("id",this.formData.id),e=`${Qe}/api/admin/updateData`);try{const a=await Pe.A.post(e,t,{headers:{"Content-Type":"multipart/form-data"}});if(1==a.data.status_){const e=document.getElementById("exampleModalLabelForm");e.reset(),this.$notify({type:"success",text:"تم الحفظ بنجاح"}),this.$emit("reload"),this.formData.id=null,this.formData.name="",this.formData.gender="male",this.formData.nationality="",this.formData.city="",this.formData.age=30,this.formData.price="",this.formData.mobile="",this.formData.status=1,this.formData.notes="",this.formData.actions="",this.image=null}else console.log(a.data.message),this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "})}catch(a){this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "}),console.error("Error uploading file:",a)}finally{document.querySelector(".saveUserbtn").disabled=!1,document.querySelector(".closeModalbtn").disabled=!1,document.querySelector(".closeModalbtn").click()}}}};const ea=(0,r.A)(Zt,[["render",Yt]]);var ta=ea,aa={name:"UsersTable",components:{NewModal:ta,AgGridVue:Je.b},props:["searchText"],mounted(){this.getData()},data(){return{serverUrl:Qe,files:null,isChecked1:!1,isChecked2:!1,isChecked3:!1,isChecked4:!1,current_id:null,current_data:null,current_notes:"",current_attachements:"",attachements_name:(new Date).toISOString().replace("T"," ").slice(0,19),datas:[],columnDefs:[{field:"id",headerName:"#",width:60,cellClass:"text-center selectable-text"},{field:"image",headerName:"الصورة",width:100,cellRenderer:this.renderImageCell},{field:"name",headerName:"الإسم",cellClass:"selectable-text"},{field:"gender",headerName:"الجنس",width:140,cellClass:"selectable-text"},{field:"nationality",headerName:"الجنسية",width:140,cellClass:"selectable-text"},{field:"city",headerName:"المدينة",cellClass:"selectable-text"},{field:"age",headerName:"العمر",width:140,cellClass:"selectable-text"},{field:"price",headerName:"التكلفة",cellRenderer:this.renderPriceCell,cellClass:"selectable-text"},{field:"mobile",headerName:"الجوال",cellClass:"selectable-text"},{field:"attachements",headerName:"الأعمال",width:140,cellClass:"text-center",cellRenderer:this.renderAttachementsCell},{field:"status",headerName:"الحالة",width:140,cellClass:"text-center",cellRenderer:this.renderSendButton},{field:"notes",headerName:"ملاحظات",width:140,cellClass:"text-center",cellRenderer:this.renderNotesCell},{field:"actions",headerName:"الإجراءات",width:140,cellClass:"text-center",cellRenderer:this.renderActionsCell}],defaultColDef:{resizable:!0,sortable:!0},arabicLocale:{pageSizeSelectorLabel:"حجم الصفحة",to:"إلى",of:"من",page:"صفحة",noRowsToShow:"جاري تحميل البيانات ..."}}},computed:{filteredDatas(){let e=[];return this.datas.map(((t,a)=>{const s=t.image&&""!=t.image?t.image:`${Qe}/uploads/no-image.jpg`,o={id:a+1,image:s,name:t.name,gender:"male"==t.gender?"ذكر":"أنثى",nationality:t.nationality,city:t.city,age:t.age,price:t.price,mobile:t.mobile,attachements:1,status:t.status,notes:t.notes,idd:t._id,actions:t.actions,attachments:t.attachments};e.push(o)})),e.reverse(),e.map(((e,t)=>{e.id=t+1})),e}},watch:{searchText(e){console.info("myProp changed:",e)}},methods:{onModelUpdated(){},getRowStyle(){},renderImageCell(e){const t=document.createElement("img");return t.src=e.value,t.alt=e.data.make,t.className="custom-image",t},renderPriceCell(e){return e.value.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},renderAttachementsCell(e){const t=document.createElement("div");return t.className="btn btn-x",t.innerHTML='<i class="fas fa-ellipsis-h"></i>',this.addClickEventListenerButtonAttachements(t,e.data),t},addClickEventListenerButtonAttachements(e,t){e.addEventListener("click",(()=>this.updateAttachements(t)))},updateAttachements(e){this.current_id=e.idd;let t=e.attachments||"";this.current_attachements=t.split(",").filter((e=>e));const a=this.$refs.attachementsModal;if(a){const e=new(Ge().Modal)(a);e.show()}},handleFiles(e){const t=e.target.files;this.files=Array.from(t)},async handleSubmitAttachements(){document.querySelector(".saveUserbtnAttachements").disabled=!0,document.querySelector(".closeModalbtnAttachements").disabled=!0;const e=this.current_id,t=this.files;try{const a=new FormData;for(const e of t)a.append("files",e);a.append("id",e),a.append("name",this.attachements_name);const s=await Pe.A.post(`${Qe}/api/admin/setDataAttachements`,a,{headers:{"Content-Type":"multipart/form-data"}});if(1==s.data.status_){this.$notify({type:"success",text:"تم تحديث الأعمال بتجاح"});let e=s.data.data||"";this.current_attachements=e.split(",").filter((e=>e));const t=document.getElementById("exampleModalLabelFormAtt");t.reset(),this.getData()}else console.error(s.data.message),this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "})}catch(a){this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "}),console.error("Error uploading file:",a)}finally{document.querySelector(".saveUserbtnAttachements").disabled=!1,document.querySelector(".closeModalbtnAttachements").disabled=!1,this.attachements_name=(new Date).toISOString().replace("T"," ").slice(0,19)}},renderSendButton(e){const t=document.createElement("div");return 1==e.value?(t.innerHTML="<span>فعال</span>",t.className="cursor-pointer badge text-success border border-success text-decoration-none px-3 py-1"):(t.innerHTML="<span>غير فعال</span>",t.className="cursor-pointer badge text-danger border border-danger text-decoration-none px-3 py-1"),this.addClickEventListenerButton(t,e.data),t},addClickEventListenerButton(e,t){e.addEventListener("click",(()=>this.setDataStatus(t)))},async setDataStatus(e){var t=e.idd,a=1==e.status?0:1;try{const e=await Pe.A.post(`${Qe}/api/admin/setDataStatus`,{id:t,status:a});1==e.data.status_?(this.$notify({type:"success",text:"تم تغيير الحالة بتجاح"}),this.getData()):(console.error(e.data.message),this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "}))}catch(s){this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "}),console.error("Error uploading file:",s)}},renderNotesCell(e){const t=document.createElement("div");return t.className="btn btn-x",t.innerHTML='<i class="fas fa-ellipsis-h"></i>',this.addClickEventListenerButtonNotes(t,e.data),t},addClickEventListenerButtonNotes(e,t){e.addEventListener("click",(()=>this.updateNotes(t)))},updateNotes(e){this.current_id=e.idd,this.current_notes=e.notes;const t=this.$refs.notesModal;if(t){const e=new(Ge().Modal)(t);e.show()}},async handleSubmitNotes(){document.querySelector(".saveUserbtnNotes").disabled=!0,document.querySelector(".closeModalbtnNotes").disabled=!0;const e=this.current_id,t=this.current_notes;try{const a=await Pe.A.post(`${Qe}/api/admin/setDataNotes`,{id:e,notes:t});1==a.data.status_?(this.$notify({type:"success",text:"تم تحديث الملاحظات بتجاح"}),this.getData()):(console.error(a.data.message),this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "}))}catch(a){this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "}),console.error("Error uploading file:",a)}finally{document.querySelector(".saveUserbtnNotes").disabled=!1,document.querySelector(".closeModalbtnNotes").disabled=!1,document.querySelector(".closeModalbtnNotes").click()}},renderActionsCell(e){const t=document.createElement("div");return t.className="btn btn-x",t.innerHTML='<i class="fas fa-ellipsis-h"></i>',this.addClickEventListenerButtonActions(t,e.data),t},addClickEventListenerButtonActions(e,t){e.addEventListener("click",(()=>this.updateActions(t)))},updateActions(e){this.current_id=e.idd,this.current_data=e;const t=e.actions||"",a=t.split(",").map((e=>parseInt(e.trim(),10)));this.isChecked1=!1,this.isChecked2=!1,this.isChecked3=!1,this.isChecked4=!1,a.forEach((e=>{1===e?this.isChecked1=!0:2===e?this.isChecked2=!0:3===e?this.isChecked3=!0:4===e&&(this.isChecked4=!0)}));const s=this.$refs.actionsModal;if(s){const e=new(Ge().Modal)(s);e.show()}},async handleSubmitActions(){document.querySelector(".saveUserbtnActions").disabled=!0,document.querySelector(".closeModalbtnActions").disabled=!0,document.querySelector(".deleteModalbtnActions").disabled=!0;const e=this.current_id,t=[];this.isChecked1&&t.push(1),this.isChecked2&&t.push(2),this.isChecked3&&t.push(3),this.isChecked4&&t.push(4);const a=t.join(",");try{const t=await Pe.A.post(`${Qe}/api/admin/setDataActions`,{id:e,actions:a});1==t.data.status_?(this.$notify({type:"success",text:"تم تحديث الإجراءات بتجاح"}),this.getData()):(console.error(t.data.message),this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "}))}catch(s){this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "}),console.error("Error uploading file:",s)}finally{document.querySelector(".saveUserbtnActions").disabled=!1,document.querySelector(".closeModalbtnActions").disabled=!1,document.querySelector(".deleteModalbtnActions").disabled=!1,document.querySelector(".closeModalbtnActions").click()}},async deleteUser(){const e=this.current_id,t=confirm("هل أنت متأكد أنك تريد حذف هذا المستخدم؟");if(t)try{const t=await Pe.A.post(`${Qe}/api/admin/deleteData`,{id:e});if(1==t.data.status_){this.$notify({type:"success",text:"تم الحذف بتجاح"});const e=document.querySelector(".closeModalbtnActions");e&&e.click(),this.getData()}else console.error(t.data.message),this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "})}catch(a){this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "}),console.error("Error uploading file:",a)}},editUser(){this.$emit("send_current_data",this.current_data);const e=document.querySelector(".closeModalbtnActions");e&&e.click(),setTimeout((function(){const e=document.querySelector("#exampleModalBtn2");e&&e.click()}),1e3)},async getData(){try{const e=await Pe.A.get(`${Qe}/api/admin/getData`);1==e.data.status_?(this.datas=e.data.datas,console.info(e.data.datas)):(console.error(e.data.message),this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "}))}catch(e){this.$notify({type:"error",text:"لقد وقع خطأ ما, الرجاء المحاولة من جديد "}),console.error("Error uploading file:",e)}},isImageUrl(e){return[".jpg",".jpeg",".png",".gif",".bmp",".webp",".svg"].some((t=>e.toLowerCase().endsWith(t)))},isPdfUrl(e){return e.toLowerCase().endsWith(".pdf")},isWordOrTxtUrl(e){const t=e.toLowerCase();return t.endsWith(".doc")||t.endsWith(".docx")||t.endsWith(".txt")||t.endsWith(".document")||t.endsWith(".plain")},isVideoUrl(e){const t=e.toLowerCase(),a=[".mp4",".avi",".mkv",".mov",".flv",".wmv",".webm"];return a.some((e=>t.endsWith(e)))},reloadData(){this.getData()}}};const sa=(0,r.A)(aa,[["render",He],["__scopeId","data-v-390cb12a"]]);var oa=sa,la={components:{NewModal:ta,UsersTable:oa,UserToggle:F,SearchForm:A},data(){return{searchText:"",current_data:null}},methods:{updateSearchText(e){this.searchText=e},reloadData(){this.$refs.UsersTableRef.getData()},send_current_data(e){this.current_data=e},handleButtonClick(){const e=document.getElementById("exampleModal"),t=new(Ge().Modal)(e);this.current_data=null,t.show()},handleButtonClick2(){const e=document.getElementById("exampleModal"),t=new(Ge().Modal)(e);t.show()}},mounted(){const e=document.querySelector(".modal-backdrop");e&&e.parentNode.removeChild(e)}};const na=(0,r.A)(la,[["render",x]]);var ra=na;const ia=e=>((0,o.Qi)("data-v-718e07f9"),e=e(),(0,o.jt)(),e),ca={class:"container mt-5"},da={class:"row justify-content-center"},ma={class:"col-md-4"},ua={class:"card"},pa=ia((()=>(0,o.Lk)("div",{class:"card-header"},[(0,o.Lk)("h4",{class:"card-title text-center m-0"},"تسجيل الدخول")],-1))),ha={class:"card-body"},ba={class:"mb-3"},fa=ia((()=>(0,o.Lk)("label",{for:"username",class:"form-label fw-bold"},"اسم المستخدم:",-1))),ka={class:"mb-3"},La=ia((()=>(0,o.Lk)("label",{for:"password",class:"form-label fw-bold"},"كلمة المرور:",-1))),ga=ia((()=>(0,o.Lk)("button",{type:"submit",class:"btn btn-primary w-100"},"تسجيل الدخول",-1))),ya={key:0,class:"error mt-3 fw-bold"};function va(e,t,a,l,n,r){return(0,o.uX)(),(0,o.CE)("div",ca,[(0,o.Lk)("div",da,[(0,o.Lk)("div",ma,[(0,o.Lk)("div",ua,[pa,(0,o.Lk)("div",ha,[(0,o.Lk)("form",{onSubmit:t[2]||(t[2]=(0,s.D$)(((...e)=>r.login&&r.login(...e)),["prevent"]))},[(0,o.Lk)("div",ba,[fa,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.username=e),type:"text",class:"form-control",id:"username",required:""},null,512),[[s.Jo,n.username]])]),(0,o.Lk)("div",ka,[La,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e),type:"password",class:"form-control",id:"password",required:""},null,512),[[s.Jo,n.password]])]),ga,n.loginError?((0,o.uX)(),(0,o.CE)("span",ya,(0,M.v_)(n.loginError),1)):(0,o.Q3)("",!0)],32)])])])])])}var xa={data(){return{username:"",password:"",loginError:""}},methods:{async login(){try{await Pe.A.post(`${Qe}/api/admin/login`,{username:this.username,password:this.password}),localStorage.setItem("isAuthenticated",!0),this.$router.push({name:"Admin"})}catch(e){e.response&&401===e.response.status?this.loginError="اسم المستخدم أو كلمة المرور غير صحيحة. الرجاء المحاولة مرة أخرى.":this.loginError="حدث خطأ أثناء عملية تسجيل الدخول. الرجاء المحاولة مرة أخرى لاحقًا."}}}};const Ca=(0,r.A)(xa,[["render",va],["__scopeId","data-v-718e07f9"]]);var wa=Ca;const Da=[{path:"/",name:"Home",component:ra,meta:{requiresAuth:!0}},{path:"/admin",name:"Admin",component:ra,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:wa}],Sa=(0,m.aE)({history:(0,m.LA)(),routes:Da});Sa.beforeEach(((e,t,a)=>{const s=localStorage.getItem("isAuthenticated");e.matched.some((e=>e.meta.requiresAuth))?s?a():a({name:"Login"}):a()}));var _a=Sa;(0,s.Ef)(c).mount("#app");const Aa=(0,s.Ef)(c);Aa.use(_a),document.addEventListener("click",(function(e){e.target.classList.contains("modal-backdrop")&&e.target.remove()})),Aa.use(d.Ay),Aa.mount("#app")}},t={};function a(s){var o=t[s];if(void 0!==o)return o.exports;var l=t[s]={exports:{}};return e[s].call(l.exports,l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(t,s,o,l){if(!s){var n=1/0;for(d=0;d<e.length;d++){s=e[d][0],o=e[d][1],l=e[d][2];for(var r=!0,i=0;i<s.length;i++)(!1&l||n>=l)&&Object.keys(a.O).every((function(e){return a.O[e](s[i])}))?s.splice(i--,1):(r=!1,l<n&&(n=l));if(r){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[s,o,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,l,n=s[0],r=s[1],i=s[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(o in r)a.o(r,o)&&(a.m[o]=r[o]);if(i)var d=i(a)}for(t&&t(s);c<n.length;c++)l=n[c],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(d)},s=self["webpackChunkfront"]=self["webpackChunkfront"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(6605)}));s=a.O(s)})();
//# sourceMappingURL=app.d229a169.js.map